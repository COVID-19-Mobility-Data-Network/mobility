<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A curated list of mobility models • mobility</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A curated list of mobility models">
<meta property="og:description" content="mobility">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-173221313-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-173221313-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mobility</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/V1_data_template.html">A generalized format for longform travel data</a>
    </li>
    <li>
      <a href="../articles/V2_build_matrices.html">Building matrices from longform travel data</a>
    </li>
    <li>
      <a href="../articles/V3_fitting_mobility_models.html">Fitting and simulating a mobility model</a>
    </li>
    <li>
      <a href="../articles/V4_fitting_prob_travel.html">Fitting and simulating travel probability</a>
    </li>
    <li>
      <a href="../articles/V5_list_models.html">A curated list of mobility models</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/COVID-19-Mobility-Data-Network/mobility/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="V5_list_models_files/header-attrs-2.4/header-attrs.js"></script><script src="V5_list_models_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A curated list of mobility models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/COVID-19-Mobility-Data-Network/mobility/blob/master/vignettes/V5_list_models.Rmd"><code>vignettes/V5_list_models.Rmd</code></a></small>
      <div class="hidden name"><code>V5_list_models.Rmd</code></div>

    </div>

    
    
<p>Mobility models in general describe interactions between separate locations in space, such travel among administrative units. There many types of mobility models (gravity and radiation are common model types) and there are many parameterizations of each model type. The ‘mobility’ R package provides methods for fitting and simulating different parameterizations of gravity, radiation, and departure-diffusion models. This vignette contains a list of all the mobility models that are currently available in this package.</p>
<p>The models list below can be called by specifying the <code>model</code> and <code>type</code> arguments of the <code><a href="../reference/mobility.html">mobility()</a></code> function. This function fits the specified model to the supplied data matrices using the Bayesian MCMC algorithm JAGS. Each of the models have a likelihood function that assumes a Poisson error structure with mean <span class="math inline">\(\lambda_{ij}\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
        m_{ij} &amp;\sim \text{Poisson}(\lambda_{ij})\\
\end{aligned}   
\]</span></p>
<p>Where, where <span class="math inline">\(m_{ij}\)</span> is an element of the data matrix <span class="math inline">\(M\)</span> and gives the observed number of trips from origin <span class="math inline">\(i\)</span> to destination <span class="math inline">\(j\)</span>, and the expected mean number of trips <span class="math inline">\(\lambda_{ij}\)</span> is defined by one of the models below.</p>
<div id="gravity-models" class="section level2">
<h2 class="hasAnchor">
<a href="#gravity-models" class="anchor"></a>Gravity models</h2>
<p>Gravity models are one of the most common types of spatial diffusion models and are routinely used in the fields of transportation science, economics, ecology, and epidemiology (Viboud et al. 2006; Xia, Bjørnstad, and Grenfell 2004). However, there are many different parameterizations of this model, so we have included a number of different model types in this package. Below are brief descriptions of each model type with example function calls that fit each model to data.</p>
<div id="basic" class="section level3">
<h3 class="hasAnchor">
<a href="#basic" class="anchor"></a>Basic</h3>
<p>The basic gravity model is the simplest gravity model with only one estimated parameter, <span class="math inline">\(\theta\)</span>. <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta
        \Bigg( \frac{
        N_{i} N_{j}
        }{
        d_{ij}
        } \Bigg)
\end{aligned}   
\]</span></p>
<p>The parameter <span class="math inline">\(\theta\)</span> acts as a proportionality constant that scales the product of the origin and destination population sizes (<span class="math inline">\(N_i\)</span>) and (<span class="math inline">\(N_j\)</span>) divided by the distance between <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> (<span class="math inline">\(d_{ij}\)</span>). The basic gravity model can be called by:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'basic'</span><span class="op">)</span></pre></div>
</div>
<div id="transport" class="section level3">
<h3 class="hasAnchor">
<a href="#transport" class="anchor"></a>Transport</h3>
<p>A common form of the gravity model used in transportation science has two parameters, <span class="math inline">\(\theta\)</span> and <span class="math inline">\(\gamma\)</span>. <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta
        \Bigg(\frac{
        N_{i} N_{j}
        }{
        d_{ij}^{\gamma}
        }\Bigg)
\end{aligned}   
\]</span> Where, <span class="math inline">\(\theta\)</span> is a proportionality constant and the exponent <span class="math inline">\(\gamma\)</span> on <span class="math inline">\(d_{ij}\)</span> allows adjustment of the distance-based kernel function. The transport gravity model can be called by:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'transport'</span><span class="op">)</span></pre></div>
</div>
<div id="power-law" class="section level3">
<h3 class="hasAnchor">
<a href="#power-law" class="anchor"></a>Power law</h3>
<p>Compared with the basic and transport gravity model types, the power law gravity model adds parameters as exponents on the population sizes of the origin (<span class="math inline">\(N_i\)</span>) and destination (<span class="math inline">\(N_j\)</span>). <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta
        \Bigg(\frac{
        N_{i}^{\omega_1} N_{j}^{\omega_2}
        }{
        d_{ij}^{\gamma}
        }\Bigg)
\end{aligned}   
\]</span> Where, <span class="math inline">\(\theta\)</span> is a proportionality constant, the parameters <span class="math inline">\(\omega_1\)</span> and <span class="math inline">\(\omega_2\)</span> serve as weights that modify the contribution of origin and destination population sizes. In the denominator, <span class="math inline">\(d_{ij}^\gamma\)</span>, serves as the dispersal kernel function. The power law gravity model can be called by:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'power'</span><span class="op">)</span></pre></div>
</div>
<div id="exponential" class="section level3">
<h3 class="hasAnchor">
<a href="#exponential" class="anchor"></a>Exponential</h3>
<p>Like the power law gravity model, the exponential gravity model has four parameters, however the distance-based kernel function uses exponential decay instead of the power law. <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta
        \Bigg(\frac{
        N_{i}^{\omega_1} N_{j}^{\omega_2}
        }{
        e^{d_{ij}/\delta}
        }\Bigg)
\end{aligned}   
\]</span> Where, <span class="math inline">\(\theta\)</span> is a proportionality constant, the parameters <span class="math inline">\(\omega_1\)</span> and <span class="math inline">\(\omega_2\)</span> serve as weights that modify the contribution of origin and destination population sizes. In the denominator, <span class="math inline">\(e^{d_{ij}/\delta}\)</span>, serves as the exponential dispersal kernel function with <span class="math inline">\(\delta\)</span> giving the deterence distance. The exponential gravity model can be called by:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'exp'</span><span class="op">)</span></pre></div>
</div>
<div id="normalized-power-law" class="section level3">
<h3 class="hasAnchor">
<a href="#normalized-power-law" class="anchor"></a>Normalized power law</h3>
<p>The normalized gravity model eliminates the exponent on the origin population size (<span class="math inline">\(N_i\)</span>), requiring estimation of three parameters <span class="math inline">\(\theta\)</span>, <span class="math inline">\(\omega\)</span>, and <span class="math inline">\(\gamma\)</span>. As the name suggests, this model normalizes the connectivity of all routes emanating from origin <span class="math inline">\(i\)</span>. <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta N_i \Bigg(
        \frac{
        N_j^\omega d_{ij}^{-\gamma}
        }{
        \sum_{\forall j} N_j^\omega d_{ij}^{-\gamma}
        } \Bigg)
\end{aligned}   
\]</span> Here, <span class="math inline">\(\theta\)</span> is a proportionality constant representing the overall number of trips per person taken from the origin population <span class="math inline">\(N_i\)</span>, and the exponential parameter <span class="math inline">\(\omega\)</span> scales the attractive force of each <span class="math inline">\(j\)</span> destination population sizes. The kernel function <span class="math inline">\(d_{ij}^{-\gamma}\)</span> serves as a penalty on the proportion of travel from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span> based on distance. The normalized power law gravity model can be called by:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'power_norm'</span><span class="op">)</span></pre></div>
</div>
<div id="normalized-exponential" class="section level3">
<h3 class="hasAnchor">
<a href="#normalized-exponential" class="anchor"></a>Normalized exponential</h3>
<p>Similar to the model above, the normalized exponential gravity model normalizes the connectivity of all routes emanating from origin <span class="math inline">\(i\)</span>. However, this model uses an exponential dispersal kernal as a penalty on connectivity. <span class="math display">\[
\begin{aligned}
        \lambda_{ij} &amp;= \theta N_i \Bigg(
        \frac{
        N_j^\omega e^{-d_{ij}/\delta}
        }{
        \sum_{\forall j} N_j^\omega e^{-d_{ij}/\delta}
        } \Bigg)
\end{aligned}   
\]</span> Where, <span class="math inline">\(\theta\)</span> is a proportionality constant representing the overall number of trips per person taken from the origin population <span class="math inline">\(N_i\)</span>, and the exponential parameter <span class="math inline">\(\omega\)</span> scales the attractive force of each <span class="math inline">\(j\)</span> destination population sizes. The kernel function <span class="math inline">\(e^{-d_{ij}/\delta}\)</span> serves as the exponential dispersal kernal. The normalized exponential gravity model can be called by:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'exp_norm'</span><span class="op">)</span></pre></div>
</div>
<div id="marshall" class="section level3">
<h3 class="hasAnchor">
<a href="#marshall" class="anchor"></a>Marshall</h3>
<p>The gravity model described in Marshall et al. (2018) uses a scaled power law and requires estimation of three parameters <span class="math inline">\(\omega\)</span>, <span class="math inline">\(\gamma\)</span>, and <span class="math inline">\(\alpha\)</span>. <span class="math display">\[
\begin{aligned}
\lambda_{ij} &amp;= N_{j}^\omega \Bigg( 1 + \frac{ d_{ij} }{ \gamma } \Bigg)^{-\alpha}
\end{aligned}   
\]</span> Where, <span class="math inline">\(\omega\)</span> adjusts the attractive force of each <span class="math inline">\(j\)</span> destination population sizes, <span class="math inline">\(\gamma\)</span> scales the distance from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span>, and <span class="math inline">\(\alpha\)</span> determines the power law distance kernel. This scaled power law gravity model can be called by:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mobility.html">mobility</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">mobility_matrices</span>, model<span class="op">=</span><span class="st">'gravity'</span>, type<span class="op">=</span><span class="st">'Marshall'</span><span class="op">)</span></pre></div>
</div>
</div>
<div id="radiation-models" class="section level2">
<h2 class="hasAnchor">
<a href="#radiation-models" class="anchor"></a>Radiation models</h2>
<div id="basic-1" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-1" class="anchor"></a>Basic</h3>
<p>The radiation model was first introduced by Simini et al. (Simini et al. 2012) and was put forth as an ‘parameter-free’ diffusion model to describe commuting flows in the United States. A basic radiation model can be called with <code>radiation_basic</code>.</p>
<p><span class="math display">\[
\begin{aligned}
        Y = \alpha + \beta X
\end{aligned}   
\]</span></p>
<p>The basic radiation is not actually fit to the data, hence its ‘parameter-free’ label. The terms in the model are…</p>
</div>
<div id="finite" class="section level3">
<h3 class="hasAnchor">
<a href="#finite" class="anchor"></a>Finite</h3>
</div>
</div>
<div id="departure-diffusion-models" class="section level2">
<h2 class="hasAnchor">
<a href="#departure-diffusion-models" class="anchor"></a>Departure-diffusion models</h2>
<div id="power-law-1" class="section level3">
<h3 class="hasAnchor">
<a href="#power-law-1" class="anchor"></a>Power law</h3>
<p>This model comes from here [ref] and is meant to do this and that. This model can be called with the type argument <code>model_name</code>.</p>
<p><span class="math display">\[
\begin{aligned}
        Y = \alpha + \beta X
\end{aligned}   
\]</span></p>
<p>This model is fitted to the data this way and the parameters mean this and that…</p>
</div>
<div id="exponential-1" class="section level3">
<h3 class="hasAnchor">
<a href="#exponential-1" class="anchor"></a>Exponential</h3>
</div>
<div id="radiation" class="section level3">
<h3 class="hasAnchor">
<a href="#radiation" class="anchor"></a>Radiation</h3>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<ol style="list-style-type: decimal">
<li><p>Marshall, John M., Sean L. Wu, Hector M. Sanchez C, Samson S. Kiware, Micky Ndhlovu, André Lin Ouédraogo, Mahamoudou B. Touré, Hugh J. Sturrock, Azra C. Ghani, and Neil M. Ferguson. 2018. “Mathematical Models of Human Mobility of Relevance to Malaria Transmission in Africa.” Scientific Reports 8 (1): 1–12.</p></li>
<li><p>Simini, Filippo, Marta C. González, Amos Maritan, and Albert-László Barabási. 2012. “A Universal Model for Mobility and Migration Patterns.” Nature 484 (7392): 96–100.</p></li>
<li><p>Viboud, Cécile, Ottar N. Bjørnstad, David L. Smith, Lone Simonsen, Mark A. Miller, and Bryan T. Grenfell. 2006. “Synchrony, Waves, and Spatial Hierarchies in the Spread of Influenza.” Science 312 (5772): 447–51.</p></li>
<li><p>Xia, Yingcun, Ottar N. Bjørnstad, and Bryan T. Grenfell. 2004. “Measles Metapopulation Dynamics: A Gravity Model for Epidemiological Coupling and Dynamics.” The American Naturalist 164 (2): 267–81.</p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by John Giles, Amy Wesolowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
