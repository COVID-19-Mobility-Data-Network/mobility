<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generalized template for travel data — travel_data_template • mobility</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generalized template for travel data — travel_data_template" />
<meta property="og:description" content="This template data frame provides a general structure for travel data that integrates with data synthesis and
modeling functions. Stays (individuals reported as not traveling outside home location) are to be included in this data frame,
where origin and destination are the same. Note that models fitted and then extrapolated
using other data assume that the same method for defining population size is used throughout. Either dates or time span must be filled." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173221313-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-173221313-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mobility</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/V1_data_template.html">A generalized format for longform travel data</a>
    </li>
    <li>
      <a href="../articles/V2_build_matrices.html">Building matrices from longform travel data</a>
    </li>
    <li>
      <a href="../articles/V3_fitting_mobility_models.html">Fitting and simulating a mobility model</a>
    </li>
    <li>
      <a href="../articles/V4_fitting_prob_travel.html">Fitting and simulating travel probability</a>
    </li>
    <li>
      <a href="../articles/V5_list_models.html">A curated list of mobility models</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/COVID-19-Mobility-Data-Network/mobility/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generalized template for travel data</h1>
    <small class="dont-index">Source: <a href='https://github.com/COVID-19-Mobility-Data-Network/mobility/blob/master/R/data.R'><code>R/data.R</code></a></small>
    <div class="hidden name"><code>travel_data_template.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This template data frame provides a general structure for travel data that integrates with data synthesis and
modeling functions. Stays (individuals reported as not traveling outside home location) are to be included in this data frame,
where origin and destination are the same. Note that models fitted and then extrapolated
using other data assume that the same method for defining population size is used throughout. Either dates or time span must be filled.</p>
    </div>

    <pre class="usage"><span class='va'>travel_data_template</span></pre>


    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>a data frame with empty columns and generalized column names</p><dl>
  <dt>date_start</dt><dd><p>date: beginning of the time interval for the trip count</p></dd>
  <dt>date_stop</dt><dd><p>date: end of the time interval for the trip count</p></dd>
  <dt>date_span</dt><dd><p>integer: time span in days</p></dd>
  <dt>indiv_id</dt><dd><p>integer: unique individual identifier</p></dd>
  <dt>indiv_age</dt><dd><p>numeric: age of participant</p></dd>
  <dt>indiv_sex</dt><dd><p>logical: gender of perticipant</p></dd>
  <dt>indiv_type</dt><dd><p>factor: if individual participants belong to different groups</p></dd>
  <dt>orig_adm0</dt><dd><p>character: name of highest administration level of origin location (Country)</p></dd>
  <dt>orig_adm1</dt><dd><p>character: name of administration level 1 of origin location (e.g. Division, State)</p></dd>
  <dt>orig_adm2</dt><dd><p>character: name of administration level 2 of origin location (e.g. District, County)</p></dd>
  <dt>orig_adm3</dt><dd><p>character: name of administration level 3 of origin location (e.g. Sub-district, Province)</p></dd>
  <dt>orig_adm4</dt><dd><p>character: name of administration level 4 of origin location (e.g. City, Municipality)</p></dd>
  <dt>orig_adm5</dt><dd><p>character: name of administration level 5 of origin location (e.g. Town, Village, Community, Ward)</p></dd>
  <dt>orig_type</dt><dd><p>character: administrative type for the origin location (e.g. sub-district, community vs town, or urban vs rural)</p></dd>
  <dt>orig_x</dt><dd><p>numeric: longitude of origin location centroid in decimal degrees (centroid of smallest admin unit)</p></dd>
  <dt>orig_y</dt><dd><p>numeric: latitude of origin location centroid in decimal degrees (centroid of smallest admin unit)</p></dd>
  <dt>orig_pop</dt><dd><p>numeric: population size of lowest administrative unit for origin location</p></dd>
  <dt>dest_adm0</dt><dd><p>character: name of highest administration level of destination location (Country)</p></dd>
  <dt>dest_adm1</dt><dd><p>character: name of administration level 1 of destination location (e.g. Division, State)</p></dd>
  <dt>dest_adm2</dt><dd><p>character: name of administration level 2 of destination location (e.g. District, County)</p></dd>
  <dt>dest_adm3</dt><dd><p>character: name of administration level 3 of destination location (e.g. Sub-district, Province)</p></dd>
  <dt>dest_adm4</dt><dd><p>character: name of administration level 4 of destination location (e.g. City, Municipality)</p></dd>
  <dt>dest_adm5</dt><dd><p>character: name of administration level 5 of destination location (e.g. Town, Village, Community, Ward)</p></dd>
  <dt>dest_type</dt><dd><p>character: administrative type for the destination location (e.g. sub-district, community vs town, or urban vs rural)</p></dd>
  <dt>dest_x</dt><dd><p>numeric: longitude of destination location in decimal degrees (centroid of smallest admin unit)</p></dd>
  <dt>dest_y</dt><dd><p>numeric: latitude of destination location centroid in decimal degrees (centroid of smallest admin unit)</p></dd>
  <dt>dest_pop</dt><dd><p>numeric: population size of lowest administrative unit for destination location</p></dd>
  <dt>trips</dt><dd><p>numeric: total number of observed trips made from origin to destination during time span</p></dd>
  
</dl>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>John Giles</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#--------------------------------</span>
<span class='co'># Travel among locations</span>
<span class='co'>#--------------------------------</span>

<span class='va'>trip</span> <span class='op'>&lt;-</span> <span class='va'>travel_data_template</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>3</span> <span class='co'># Add some observations</span>
<span class='va'>trip</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>

<span class='co'># Time span of travel survey</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>date_start</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>date_stop</span> <span class='op'>&lt;-</span> <span class='va'>trip</span><span class='op'>$</span><span class='va'>date_start</span> <span class='op'>+</span> <span class='fl'>30</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>date_span</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/difftime.html'>difftime</a></span><span class='op'>(</span><span class='va'>trip</span><span class='op'>$</span><span class='va'>date_stop</span>, <span class='va'>trip</span><span class='op'>$</span><span class='va'>date_start</span>, units<span class='op'>=</span><span class='st'>'days'</span><span class='op'>)</span>

<span class='co'># Participant info</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>indiv_id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span>, <span class='va'>n</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>indiv_age</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>5</span>, <span class='fl'>80</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>indiv_sex</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span><span class='op'>)</span>

<span class='co'># Origin info</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_adm0</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_adm1</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_adm2</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_adm3</span> <span class='op'>&lt;-</span> <span class='va'>LETTERS</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span><span class='op'>]</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_type</span> <span class='op'>&lt;-</span> <span class='st'>'Sub-district'</span> <span class='co'># Type of admin unit for lowest admin level</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>100</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>20</span>, <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>orig_pop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>10000</span><span class='op'>)</span>

<span class='co'># Destination info</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_adm0</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_adm1</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_adm2</span> <span class='op'>&lt;-</span> <span class='st'>'B'</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_adm3</span> <span class='op'>&lt;-</span> <span class='va'>LETTERS</span><span class='op'>[</span><span class='op'>(</span><span class='va'>n</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='op'>(</span><span class='va'>n</span><span class='op'>*</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_type</span> <span class='op'>&lt;-</span> <span class='st'>'Sub-district'</span> <span class='co'># Type of admin unit for lowest admin level</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>100</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>20</span>, <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>dest_pop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>5000</span><span class='op'>)</span>

<span class='co'># Number of reported trips</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>trips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>10</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>trip</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   date_start  date_stop date_span indiv_id indiv_age indiv_sex indiv_type
#&gt; 1 2020-01-01 2020-01-31   30 days       10         6         1       &lt;NA&gt;
#&gt; 2 2020-01-01 2020-01-31   30 days       49        60         0       &lt;NA&gt;
#&gt; 3 2020-01-01 2020-01-31   30 days       14        78         0       &lt;NA&gt;
#&gt;   orig_adm0 orig_adm1 orig_adm2 orig_adm3 orig_adm4 orig_adm5    orig_type
#&gt; 1         A         A         A         A      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 2         A         A         A         B      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 3         A         A         A         C      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt;      orig_x   orig_y orig_pop dest_adm0 dest_adm1 dest_adm2 dest_adm3 dest_adm4
#&gt; 1  99.48698 15.64485    10000         A         A         B         D      &lt;NA&gt;
#&gt; 2 101.19980 19.76428    10187         A         A         B         E      &lt;NA&gt;
#&gt; 3 100.30449 20.22459    10215         A         A         B         F      &lt;NA&gt;
#&gt;   dest_adm5    dest_type    dest_x   dest_y dest_pop trips
#&gt; 1      &lt;NA&gt; Sub-district 103.54857 22.02400     5022     7
#&gt; 2      &lt;NA&gt; Sub-district 103.83492 18.16190     5025    13
#&gt; 3      &lt;NA&gt; Sub-district  98.45894 21.12676     5079    11</div><div class='input'>


<span class='co'>#-----------------------</span>
<span class='co'># Stays in home location</span>
<span class='co'>#-----------------------</span>

<span class='va'>stay</span> <span class='op'>&lt;-</span> <span class='va'>travel_data_template</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>3</span> <span class='co'># add some observations</span>
<span class='va'>stay</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>

<span class='co'># Time span of travel survey</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>date_start</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>date_stop</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>date_start</span> <span class='op'>+</span> <span class='fl'>30</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>date_span</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/difftime.html'>difftime</a></span><span class='op'>(</span><span class='va'>trip</span><span class='op'>$</span><span class='va'>date_stop</span>, <span class='va'>trip</span><span class='op'>$</span><span class='va'>date_start</span>, units<span class='op'>=</span><span class='st'>'days'</span><span class='op'>)</span>

<span class='co'># Participant info</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>indiv_id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>:</span><span class='fl'>200</span>, <span class='va'>n</span><span class='op'>)</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>indiv_age</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>5</span>, <span class='fl'>80</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>indiv_sex</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Binomial.html'>rbinom</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span><span class='op'>)</span>

<span class='co'># Origin info</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_adm0</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_adm0</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_adm1</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_adm1</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_adm2</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_adm2</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_adm3</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_adm3</span> <span class='op'>&lt;-</span> <span class='va'>LETTERS</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span><span class='op'>]</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_type</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_type</span> <span class='op'>&lt;-</span> <span class='st'>'Sub-district'</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_x</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>100</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_y</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>20</span>, <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>stay</span><span class='op'>$</span><span class='va'>orig_pop</span> <span class='op'>&lt;-</span> <span class='va'>stay</span><span class='op'>$</span><span class='va'>dest_pop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>10000</span><span class='op'>)</span>

<span class='va'>stay</span><span class='op'>$</span><span class='va'>trips</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>stay</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   date_start  date_stop date_span indiv_id indiv_age indiv_sex indiv_type
#&gt; 1 2020-01-01 2020-01-31   30 days      155        36         0       &lt;NA&gt;
#&gt; 2 2020-01-01 2020-01-31   30 days      179        46         1       &lt;NA&gt;
#&gt; 3 2020-01-01 2020-01-31   30 days      121        17         1       &lt;NA&gt;
#&gt;   orig_adm0 orig_adm1 orig_adm2 orig_adm3 orig_adm4 orig_adm5    orig_type
#&gt; 1         A         A         A         A      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 2         A         A         A         B      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 3         A         A         A         C      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt;      orig_x   orig_y orig_pop dest_adm0 dest_adm1 dest_adm2 dest_adm3 dest_adm4
#&gt; 1 108.02204 21.75355     9964         A         A         A         A      &lt;NA&gt;
#&gt; 2  92.42488 21.24826    10046         A         A         A         B      &lt;NA&gt;
#&gt; 3  92.91988 24.22455    10098         A         A         A         C      &lt;NA&gt;
#&gt;   dest_adm5    dest_type    dest_x   dest_y dest_pop trips
#&gt; 1      &lt;NA&gt; Sub-district 108.02204 21.75355     9964    NA
#&gt; 2      &lt;NA&gt; Sub-district  92.42488 21.24826    10046    NA
#&gt; 3      &lt;NA&gt; Sub-district  92.91988 24.22455    10098    NA</div><div class='input'>
<span class='co'># Combine</span>
<span class='va'>survey_data</span> <span class='op'>&lt;-</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>full_join</a></span><span class='op'>(</span><span class='va'>trip</span>, <span class='va'>stay</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Joining, by = c("date_start", "date_stop", "date_span", "indiv_id", "indiv_age", "indiv_sex", "indiv_type", "orig_adm0", "orig_adm1", "orig_adm2", "orig_adm3", "orig_adm4", "orig_adm5", "orig_type", "orig_x", "orig_y", "orig_pop", "dest_adm0", "dest_adm1", "dest_adm2", "dest_adm3", "dest_adm4", "dest_adm5", "dest_type", "dest_x", "dest_y", "dest_pop", "trips")</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>survey_data</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   date_start  date_stop date_span indiv_id indiv_age indiv_sex indiv_type
#&gt; 1 2020-01-01 2020-01-31   30 days       10         6         1       &lt;NA&gt;
#&gt; 2 2020-01-01 2020-01-31   30 days       49        60         0       &lt;NA&gt;
#&gt; 3 2020-01-01 2020-01-31   30 days       14        78         0       &lt;NA&gt;
#&gt; 4 2020-01-01 2020-01-31   30 days      155        36         0       &lt;NA&gt;
#&gt; 5 2020-01-01 2020-01-31   30 days      179        46         1       &lt;NA&gt;
#&gt; 6 2020-01-01 2020-01-31   30 days      121        17         1       &lt;NA&gt;
#&gt;   orig_adm0 orig_adm1 orig_adm2 orig_adm3 orig_adm4 orig_adm5    orig_type
#&gt; 1         A         A         A         A      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 2         A         A         A         B      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 3         A         A         A         C      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 4         A         A         A         A      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 5         A         A         A         B      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt; 6         A         A         A         C      &lt;NA&gt;      &lt;NA&gt; Sub-district
#&gt;      orig_x   orig_y orig_pop dest_adm0 dest_adm1 dest_adm2 dest_adm3 dest_adm4
#&gt; 1  99.48698 15.64485    10000         A         A         B         D      &lt;NA&gt;
#&gt; 2 101.19980 19.76428    10187         A         A         B         E      &lt;NA&gt;
#&gt; 3 100.30449 20.22459    10215         A         A         B         F      &lt;NA&gt;
#&gt; 4 108.02204 21.75355     9964         A         A         A         A      &lt;NA&gt;
#&gt; 5  92.42488 21.24826    10046         A         A         A         B      &lt;NA&gt;
#&gt; 6  92.91988 24.22455    10098         A         A         A         C      &lt;NA&gt;
#&gt;   dest_adm5    dest_type    dest_x   dest_y dest_pop trips
#&gt; 1      &lt;NA&gt; Sub-district 103.54857 22.02400     5022     7
#&gt; 2      &lt;NA&gt; Sub-district 103.83492 18.16190     5025    13
#&gt; 3      &lt;NA&gt; Sub-district  98.45894 21.12676     5079    11
#&gt; 4      &lt;NA&gt; Sub-district 108.02204 21.75355     9964    NA
#&gt; 5      &lt;NA&gt; Sub-district  92.42488 21.24826    10046    NA
#&gt; 6      &lt;NA&gt; Sub-district  92.91988 24.22455    10098    NA</div><div class='input'>


<span class='co'>#----------------------------------------</span>
<span class='co'># Dataset with which to extrapolate model</span>
<span class='co'>#----------------------------------------</span>

<span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='va'>travel_data_template</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>6</span> <span class='co'># Add some observations</span>
<span class='va'>pred</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>

<span class='co'># Time span of the interval over which to extrapolate the fitted model</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>date_span</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/difftime.html'>as.difftime</a></span><span class='op'>(</span><span class='fl'>7</span>, units<span class='op'>=</span><span class='st'>'days'</span><span class='op'>)</span>

<span class='co'># Origin info</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_adm0</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_adm1</span> <span class='op'>&lt;-</span> <span class='st'>'A'</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_adm2</span> <span class='op'>&lt;-</span> <span class='va'>LETTERS</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>n</span><span class='op'>]</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_type</span> <span class='op'>&lt;-</span> <span class='st'>'District'</span> <span class='co'># Type of admin unit for lowest admin level</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>100</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>20</span>, <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>pred</span><span class='op'>$</span><span class='va'>orig_pop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>1e+05</span><span class='op'>)</span>

<span class='co'># Number of reported trips (unobserved for extrapolation data)</span>
<span class='va'>trip</span><span class='op'>$</span><span class='va'>trips</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>pred</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   date_start date_stop date_span indiv_id indiv_age indiv_sex indiv_type
#&gt; 1       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt; 2       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt; 3       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt; 4       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt; 5       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt; 6       &lt;NA&gt;      &lt;NA&gt;         7       NA        NA        NA       &lt;NA&gt;
#&gt;   orig_adm0 orig_adm1 orig_adm2 orig_adm3 orig_adm4 orig_adm5 orig_type
#&gt; 1         A         A         A      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt; 2         A         A         B      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt; 3         A         A         C      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt; 4         A         A         D      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt; 5         A         A         E      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt; 6         A         A         F      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;  District
#&gt;      orig_x   orig_y orig_pop dest_adm0 dest_adm1 dest_adm2 dest_adm3 dest_adm4
#&gt; 1  96.43136 19.86523   100144      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt; 2 106.34845 20.56020   100194      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt; 3 103.54533 20.66062    99944      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt; 4 105.23461 20.56950   100062      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt; 5  93.94760 20.85719   100205      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt; 6 101.90075 19.75807   100108      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
#&gt;   dest_adm5 dest_type dest_x dest_y dest_pop trips
#&gt; 1      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA
#&gt; 2      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA
#&gt; 3      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA
#&gt; 4      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA
#&gt; 5      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA
#&gt; 6      &lt;NA&gt;      &lt;NA&gt;     NA     NA       NA    NA</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by John Giles, Amy Wesolowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


